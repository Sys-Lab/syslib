SYSLIB={ver:0,settings:{release:0,loglevel:0,set:function(e){for(var t in e[t])SYSLIB.settings[t]=e[t]}},namespaces:{},namespace:function(e,t){var e=e.split("."),n=SYSLIB.namespaces[e[0]],r=1;if(t&&-1!=t){if("object"!=typeof t){var o=[];o[0]=t,t=o}for(r=0;r<t.length;r++)if(!SYSLIB.namespace(t[r],-1))return __Error.log(2,"Namespace : can't find required ns "+t[r]),void 0}for("function"!=typeof n&&(SYSLIB.namespaces[e[0]]=function(){},n=SYSLIB.namespaces[e[0]]),r=1;r<e.length;r++){if("function"!=typeof n[e[r]]){if(-1==t)return 0;n[e[r]]=function(){}}n=n[e[r]]}return n},included:{},includePath:"",include_need:0,include_end_callback:0,include_checklock:0,check_loadend:function(){SYSLIB.include_checklock&&clearTimeout(SYSLIB.include_checklock),SYSLIB.include_checklock=setTimeout(function(){__Error.log(0,"INCLUDE : all file loaded"),!SYSLIB.include_need&&$this.include_end_callback&&(SYSLIB.include_end_callback(),SYSLIB.include_end_callback=0)},500)},include:function(e,t){var n="string"==typeof e?[e]:e,r=0;for(t&&(SYSLIB.include_end_callback=t),r=0;r<n.length;r++){var o=n[r].split("#");if("!"==o[1]&&(SYSLIB.included[SYSLIB.includePath+o[0]]=0),!SYSLIB.included[SYSLIB.includePath+o[0]]){var i=o[0].replace(/^\s|\s$/g,""),s=i.split("."),a=s[s.length-1].toLowerCase(),l="css"==a,c=l?"link":"script",_=document.createElement(c),d=SYSLIB.includePath+i;l?(_.setAttribute("rel","stylesheet"),_.setAttribute("href",d)):_.setAttribute("src",d),$newnode.includeLink=$newnode,__Error.log(0,"INCLUDE : including "+$newnode),document.body.appendChild(_),$newnode.onload=function(){__Error.log(0,"INCLUDE : included "+this.includeLink),SYSLIB.include_need--,SYSLIB.check_loadend()},SYSLIB.included[SYSLIB.includePath+o[0]]=1}}},exclude:function(e,t){__Error.log(0,"EXCLUDE : excluded "+t+": "+e);var n="js"==t?"script":"css"==t?"link":"none",r="js"==t?"src":"css"==t?"href":"none",o=document.getElementsByTagName(n),i=o.length;for(i=o.length;i>=0;i--)o[i]&&null!=o[i].getAttribute(r)&&-1!=o[i].getAttribute(r).indexOf(e)&&o[i].parentNode.removeChild(o[i])},baseurl:window.location.protocol+"//"+window.location.hostname};var __Error=SYSLIB.namespace("syslib.error");__Error.List=[],__Error.log=function(e,t){return!SYSLIB.settings.loglevel||SYSLIB.settings.loglevel<e?(console.log("%c"+["Notice: ","Warn: ","Error: "][e],["color:#5353E5","color:#F7620E","color:#F81325"][e]),console.log("%c"+t,["background:#AED8FA","background:#FCCEB4","background:#F199A0"][e])):void 0},window.onerror=function(e,t,n){return __Error.log(2,e+" onLine :"+(n?n:"unknow Of ")+(t?t:"unknow File")),SYSLIB.settings.release?!0:!1};var __Math=SYSLIB.namespace("syslib.math");__Math.has=function(e,t){var n=0;e=e.length?e:[e],t=t.length?t:[t];for(var r=0;r<e.length;r++)for(var o=0;o<t.length;o++)e[r]==t[o]&&n++;return n>=t.length},__Math.rand=function(e,t,n){var r=e+Math.random()*(t-e);return n?n>0?(r=r.toString().split("."),r[1]=r[1].substr(0,n),r=r.join("."),parseFloat(r)):r:Math.floor(r)},__Dom=SYSLIB.namespace("syslib.dom"),__Dom.domcache={allnodes:[],byid:{},byclass:{},bytag:{},byattr:{}},__Dom.fresh=function(){__Dom.domcache={allnodes:[],byid:{},byclass:{},bytag:{},byattr:{}},__Dom.findall(document.body),__Error.log(0,"DOM : fresh cache.")},__Dom.nodeparser=function(e){return e.find=function(e){return __Dom.find(e,this)},e.search=function(e){return __Dom.search(e,this)},e.searchcontent=function(e){return __Dom.searchcontent(e,this)},e.has=function(e){return __Dom.class(this).has(e)},e.class=function(){return __Dom.class(this).get()},e.add=function(e){return __Dom.class(this).add(e)},e.remove=function(e){return __Dom.class(this).remove(e)},e.replace=function(e,t){return __Dom.class(this).replace(e,t)},__Event&&(e.addListener=function(e,t,n,r){return __Event.Listen(e,t,n,r,this)},e.removeListener=function(e,t,n,r){return __Event.unListen(e,t,n,r,this)}),__Util&&(e.globalposition=function(){return __Util.globalposition(this)}),e},__Dom.findall=function(e){if(e.tagName){var t=e.childNodes;if(__Dom.domcache.allnodes.push(__Dom.nodeparser(e)),t)if(t.length>0){var n=0;for(n=0;n<t.length;n++)__Dom.findall(t[n])}else __Dom.findall(t)}},__Dom.find=function(e,t){this.findthis=function(e,t){var n=e.split("#"),r=0;if(n[1]){if(t){var o=[],i=0;for(i=0;i<t.length;i++)r=t[i],r.id&&r.id==n[1]&&(r&&(r=__Dom.nodeparser(r)),o.push(r));return o}return r=__Dom.domcache.byid[n[1]]?__Dom.domcache.byid[n[1]]:document.getElementById(n[1]),r=r?r:0,r&&(r=__Dom.nodeparser(r),__Dom.domcache.byid[n[1]]=r),r}if(n=e.split("."),n[1]){if(t){var o=[],i=0;for(i=0;i<t.length;i++)r=t[i],r.className&&r.className==n[1]&&(r&&(r=__Dom.nodeparser(r)),o.push(r));return o}return r=__Dom.domcache.byclass[n[1]]?__Dom.domcache.byclass[n[1]]:document.getElementsByClassName(n[1]),r=r?r:0,r&&(r=__Dom.nodeparser(r),__Dom.domcache.byclass[n[1]]=r),r}if(n=e.split("<"),n[1]){if(n=n[1].split(">"),t){var o=[],i=0;for(i=0;i<t.length;i++)r=t[i],r.tagName&&r.tagName.toUpperCase()==n[0].toUpperCase()&&o.push(r);return o}return r=__Dom.domcache.bytag[n[0]]?__Dom.domcache.bytag[n[0]]:document.getElementsByTagName(n[0]),r=r?r:0,r&&(r=__Dom.nodeparser(r),__Dom.domcache.bytag[n[0]]=r),r}if(n=e.split(" = "),n[1]){if(n[1]=n[1].split("]")[0],n[0]=n[0].split("[")[1],t){var o=[],i=0;for(i=0;i<t.length;i++)r=t[i],r.getAttribute&&r.getAttribute(n[0])&&r.getAttribute(n[0])==n[1]&&(r&&(r=__Dom.nodeparser(r)),o.push(r));return o}if(__Dom.domcache.byattr[n[0]])r=__Dom.domcache.byattr[n[0]];else{__Dom.domcache.allnodes&&0!=__Dom.domcache.allnodes.length||__Dom.freshdomcache();for(var s=0;s<__Dom.domcache.allnodes.length;s++){var a=__Dom.domcache.allnodes[s];a.getAttribute(n[0])&&a.getAttribute(n[0])==n[1]&&(r||(r=[]),a&&(a=__Dom.nodeparser(a)),r.push(a))}}return r=r?r:0,r&&(__Dom.domcache.byattr[n[0]]=r),r}};var n=0,r=0;if(t)if(t.tagName)var o=__Dom.findall(t);else var o=t;else var o=0;if(__Error.log(0,"DOM : find "+e),e.indexOf("&&")>0){for(r=e.split("&&"),n=0;n<r.length;n++)if(o=this.findthis(r[n],o),!o)return 0;return o}return this.findthis(e,o)},__Dom.search=function(e,t){this.searchthis=function(e,t){var n=e.split("#"),r=0;if(!t)var t=__Dom.domcache.allnodes;if(n[1]){var o=[],i=0;for(i=0;i<t.length;i++)r=t[i],r.id&&r.id.match(n[1])&&(r&&(r=__Dom.nodeparser(r)),o.push(r));return o}if(n=e.split("."),n[1]){var o=[],i=0;for(i=0;i<t.length;i++)r=t[i],r.className&&r.className.match(n[1])&&(r&&(r=__Dom.nodeparser(r)),o.push(r));return o}if(n=e.split("<"),n[1]){n=n[1].split(">");var o=[],i=0;for(i=0;i<t.length;i++)r=t[i],r.tagName&&r.tagName.toUpperCase().match(n[0])&&(r&&(r=__Dom.nodeparser(r)),o.push(r));return o}if(n=e.split(" = "),n[1]){n[1]=n[1].split("]")[0],n[0]=n[0].split("[")[1];var o=[],i=0;for(i=0;i<t.length;i++)r=t[i],r.getAttribute&&r.getAttribute(n[0])&&r.getAttribute(n[0]).match(n[1])&&(r&&(r=__Dom.nodeparser(r)),o.push(r));return o}};var n=0,r=0;if(t)if(t.tagName)var o=__Dom.findall(t);else var o=t;else{var o=0;__Dom.domcache.allnodes&&0!=__Domcache.allnodes.length||__Dom.freshdomcache()}if(__Error.log(0,"DOM : search "+e),e.indexOf("&&")>0){for(r=e.split("&&"),n=0;n<r.length;n++)if(o=this.searchthis(r[n],o),!o)return 0;return o}return this.searchthis(e,o)},__Dom.searchcontent=function(e,t){if(!t){__Dom.domcache.allnodes&&0!=__Dom.domcache.allnodes.length||__Dom.freshdomcache();var t=__Dom.domcache.allnodes}var n=[],r=0;for(r=0;r<t.length;r++)$nodes=t[r],$nodes.innerHTML&&$nodes.innerHTML.match(e)&&($nodes&&($nodes=__Dom.nodeparser($nodes)),n.push($nodes));return __Error.log(0,"DOM : searchcontent "+e),n},__Dom.class=function(e){if(e){var t={};return t.domnode=e,t.domnode.length||(t.domnode=[t.domnode]),t.has=function(e){var n=!0,e=e.split(" "),r=0;for(r=0;r<t.domnode.length;r++){var o=t.domnode[r],i=o.className?o.className.split(" "):[];__Math.has(i,e)||(n=!1)}return n},t.get=function(){var e=[],n=0;for(n=0;n<t.domnode.length;n++){var r=t.domnode[n],o=r.className?r.className.split(" "):"",i=0;for(i=0;i<o.length;i++)e.indexOf(o[i])<0&&""!=o[i]&&e.push(o[i])}return e},t.add=function(e){var e=e.split(" "),n=0;for(n=0;n<t.domnode.length;n++){var r=t.domnode[n],o=r.className?r.className.split(" "):[],o=""!=o?o:[],i=0;for(i=0;i<e.length;i++)__Math.has(o,[e[i]])||(o.length?o.push(e[i]):o=[e[i]]);r.className=o.join(" ")}},t.remove=function(e){var e=e.split(" "),n=0;for(n=0;n<t.domnode.length;n++){var r=t.domnode[n],o=r.className.split(" ")||"",i=0;for(i=0;i<e.length&&o;i++)__Math.has(o,[e[i]])&&o.splice(o.indexOf(e[i]),1);r.className=o.join(" ")}},t.replace=function(e,n){var e=e.split(" "),n=n.split(" "),r=0;for(r=0;r<t.domnode.length;r++){var o=t.domnode[r],i=o.className.split(" ");if(i=""!=i?i:[],i!=[]){var s=1,a=0;for(a=0;a<e.length;a++)__Math.has(i,[e[a]])||(s=0);if(s){for(a=0;a<e.length;a++)i.indexOf(e[a])>=0&&i.splice(i.indexOf(e[a]),1);for(a=0;a<n.length;a++)i.indexOf(n[a])<0&&(i.length?i.push(n[a]):i=[n[a]]);o.className=i.join(" ")}}}},t}};var _f=SYSLIB.namespace("syslib.dom").find,_search=SYSLIB.namespace("syslib.dom").search,_c=SYSLIB.namespace("syslib.dom").class,HEIGHTEST=0,LOWEST=Math.pow(2,53),__Event=SYSLIB.namespace("syslib.event");__Event.Listeners={},__Event.Listen=function(e,t,n,r,o){o||(o="global"),o.eventtoken||(o.eventtoken=__Util.token(),"global"!=o&&o.setAttribute("eventtoken",o.eventtoken)),__Event.Listeners[o.eventtoken]||(__Event.Listeners[o.eventtoken]=new Object),__Event.Listeners[o.eventtoken][e]||(__Event.Listeners[o.eventtoken][e]=new Array,"global"!=o&&(Element.prototype.addEventListener?o.addEventListener(e,function(t){__Event.emit(e,t,o,this)},!1):o.attachEvent("on"+e,function(){__Event.emit(e,window.event,o,this)})));var i=o.id?"#"+o.id:o.eventtoken;if(listenerList=__Event.Listeners[o.eventtoken][e],r)if(listenerList[r]){if(r==LOWEST)return __Error.log(2,"Event : Event "+i+"."+e+"'s Listener with LOWEST Level is used."),void 0;for(var s=r;listenerList[s]&&LOWEST>s;)s++;if(listenerList[s])return __Error.log(2,"Event : Event "+i+"."+e+"'s Listener with Level "+r+" is used. Tried using lower Level but all is used."),void 0;listenerList[s]={listener:t,nopopup:n},s==LOWEST?__Error.log(1,"Event : Event "+i+"."+e+"'s Listener with Level "+r+" is used. Using LOWEST level instead."):__Error.log(1,"Event : Event "+i+"."+e+"'s Listener with Level "+r+" is used. Using "+s+" level instead.")}else listenerList[r]={listener:t,nopopup:n},r==LOWEST?__Error.log(0,"Event : Event "+i+"."+e+"'s Listener with LOWEST level added."):__Error.log(0,"Event : Event "+i+"."+e+"'s Listener with Level "+r+" is added.");else listenerList.push({listener:t,nopopup:n}),__Error.log(0,"Event : Event "+i+"."+e+"'s Listener with Level "+listenerList.length+" is added.")},__Event.unListen=function(e,t,n,r,o,i){if(o||(o="global"),!o.eventtoken)return __Error.log(1,"Event : element With no eventtoken!"),void 0;var s=o.id?"#"+o.id:o.eventtoken;if(!__Event.Listeners[o.eventtoken]||!__Event.Listeners[o.eventtoken][e])return __Error.log(1,"Event : Event "+s+"."+e+" has no Listener to unListen !"),void 0;for(var a=__Event.Listeners[o.eventtoken][e],l=0;l<a.length&&(!a[l]||!a[l].listener||a[l].listener!=t||a[l].nopopup!=n||(__Error.log(0,"Event : Event "+s+"."+e+"'s Listener with Level "+l+" is removed."),a.splice(l,1),i));l++);},__Event.emit=function(e,t,n,r){if(n||(n="global"),!n.eventtoken)return __Error.log(1,"Event : element With no eventtoken!"),void 0;var o=n.id?"#"+n.id:n.eventtoken;if(!__Event.Listeners[n.eventtoken]||!__Event.Listeners[n.eventtoken][e]||!__Event.Listeners[n.eventtoken][e].length)return __Error.log(1,"Event : Event "+o+"."+e+" has no Listener !"),void 0;var i=__Event.Listeners[n.eventtoken][e];__Error.log(0,"Event : Event "+e+" emit !");for(var s=0;s<i.length;s++)if(i[s]){var a=i[s].nopopup;if(i[s].listener&&(__Error.log(0,"Event : Event "+o+"."+e+" emit Listener with level "+s),i[s].listener.call(r,t)),a){__Error.log(0,"Event : Event "+o+"."+e+" emit break on level "+s);break}}};var _listen=SYSLIB.namespace("syslib.event").Listen,_unlisten=SYSLIB.namespace("syslib.event").unListen,__Util=SYSLIB.namespace("syslib.util");__Util.UA=function(){var e=window.navigator&&navigator.userAgent||"";return{isChrome:/webkit\W.*(chrome|chromium)\W/i.test(e),isFirefox:/mozilla.*\Wfirefox\W/i.test(e),isGecko:/mozilla(?!.*webkit).*\Wgecko\W/i.test(e),isIE:function(){return"Microsoft Internet Explorer"===navigator.appName},isKindle:/\W(kindle|silk)\W/i.test(e),isMobile:/(iphone|ipod|(android.*?mobile)|blackberry|nokia)/i.test(e),isOpera:/opera.*\Wpresto\W/i.test(e),isSafari:/webkit\W(?!.*chrome).*safari\W/i.test(e),isTablet:/(ipad|android(?!.*mobile))/i.test(e),isTV:/googletv|sonydtv/i.test(e),isWebKit:/webkit\W/i.test(e),isAndroid:/android/i.test(e),isIOS:/(ipad|iphone|ipod)/i.test(e),isIPad:/ipad/i.test(e),isIPhone:/iphone/i.test(e),isIPod:/ipod/i.test(e),whoami:function(){return e}}},__Util.checkFather=function(e,t){var n=t.relatedTarget;try{for(;n&&n!==e;)n=n.parentNode;return n!==e}catch(t){}},__Util.globalposition=function(e){for(var t=e,n={x:0,y:0};null!=t;)n.x+=t.offsetLeft,n.y+=t.offsetTop,t=t.offsetParent;return n},__Util.title=function(e){document.title=e},__Util.brhistory=function(e){var t={title:document.title,url:window.location.href,action:e?e:0};history.pushState(t,t.title,t.url)},__Util.url=function(e){window.location.href=SYSLIB.baseurl+"#"+e},__Util.preventDefault=function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1},__Util.clone=function(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date){var t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array){for(var t=[],n=0,r=e.length;r>n;n++)t[n]=__Util.clone(e[n]);return t}if(e instanceof Object){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=__Util.clone(e[o]));return t}__Error.log(2,"Util.clone : Unable to copy obj! Its type isn't supported.")},__Util.token=function(e){var t=0,n=e||32,r=Array(0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"),o="";for(t=0;n>t;t++){var i=__Math.rand(0,61);o+=r[i]}return o},__Util.base64={EncodeChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DecodeChars:new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),decode:function(e){for(var t,n,r,o,i=0,s=e.length,a="";s>i;){do t=__Util.base64.DecodeChars[255&e.charCodeAt(i++)];while(s>i&&-1==t);if(-1==t)break;do n=__Util.base64.DecodeChars[255&e.charCodeAt(i++)];while(s>i&&-1==n);if(-1==n)break;a+=String.fromCharCode(t<<2|(48&n)>>4);do{if(r=255&e.charCodeAt(i++),61==r)return a;r=__Util.base64.DecodeChars[r]}while(s>i&&-1==r);if(-1==r)break;a+=String.fromCharCode((15&n)<<4|(60&r)>>2);do{if(o=255&e.charCodeAt(i++),61==o)return a;o=__Util.base64.DecodeChars[o]}while(s>i&&-1==o);if(-1==o)break;a+=String.fromCharCode((3&r)<<6|o)}return a},encode:function(e){for(var t,n,r,o=0,i=e.length,s="";i>o;){if(t=255&e.charCodeAt(o++),o==i){s+=__Util.base64.EncodeChars.charAt(t>>2),s+=__Util.base64.EncodeChars.charAt((3&t)<<4),s+=" == ";break}if(n=e.charCodeAt(o++),o==i){s+=__Util.base64.EncodeChars.charAt(t>>2),s+=__Util.base64.EncodeChars.charAt((3&t)<<4|(240&n)>>4),s+=__Util.base64.EncodeChars.charAt((15&n)<<2),s+=" = ";break}r=e.charCodeAt(o++),s+=__Util.base64.EncodeChars.charAt(t>>2),s+=__Util.base64.EncodeChars.charAt((3&t)<<4|(240&n)>>4),s+=__Util.base64.EncodeChars.charAt((15&n)<<2|(192&r)>>6),s+=__Util.base64.EncodeChars.charAt(63&r)}return s},utf8to16:function(e){for(var t,n,r,o=0,i=e.length,s="";i>o;)switch(t=e.charCodeAt(o++),t>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=e.charAt(o-1);break;case 12:case 13:n=e.charCodeAt(o++),s+=String.fromCharCode((31&t)<<6|63&n);break;case 14:n=e.charCodeAt(o++),r=e.charCodeAt(o++),s+=String.fromCharCode((15&t)<<12|(63&n)<<6|(63&r)<<0)}return s},utf16to8:function(e){var t,n,r=e.length,o="";for(t=0;r>t;t++)n=e.charCodeAt(t),n>=1&&127>=n?o+=e.charAt(t):n>2047?(o+=String.fromCharCode(224|15&n>>12),o+=String.fromCharCode(128|63&n>>6),o+=String.fromCharCode(128|63&n>>0)):(o+=String.fromCharCode(192|31&n>>6),o+=String.fromCharCode(128|63&n>>0));return o}};var _title=SYSLIB.namespace("syslib.util").title,_pushhistory=SYSLIB.namespace("syslib.util").brhistory,_seturl=SYSLIB.namespace("syslib.util").url,_clone=SYSLIB.namespace("syslib.utils").clone;